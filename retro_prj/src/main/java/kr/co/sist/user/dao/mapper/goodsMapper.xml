<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.sist.goods">
	
	<!-- 상품 조회 by 상품코드 -->
	<select id="selectGoodsOne" resultType="kr.co.sist.user.domain.GoodsDomain" 
	parameterType="kr.co.sist.user.vo.GoodsVO">
	SELECT	*
	FROM	PRODUCT
	WHERE	PCODE = #{pcode}
	</select>
	
	<!-- 카테고리별 상품 목록 조회 -->
	<!-- <select id="selectGoodsList" resultType="kr.co.sist.user.domain.GoodsDomain"
		parameterType="kr.co.sist.user.vo.GoodsVO">
	SELECT * 
	FROM PRODUCT
    WHERE C3CODE IN 
    ( SELECT C3CODE FROM CATEGORY3 WHERE C2CODE = #{c2code} )	
	</select> -->
	
	<!-- 대분류 상품 목록 조회 -->
	<select id="BigCategory" resultType="kr.co.sist.user.domain.GoodsDomain"
		parameterType="kr.co.sist.user.vo.GoodsVO">
		
	SELECT P.IMG, P.PNAME, P.PRICE, P.LOC, P.INPUT_DATE
	FROM PRODUCT P
	JOIN CATEGORY3 C3 ON P.C3CODE = C3.C3CODE
	JOIN CATEGORY2 C2 ON C3.C2CODE = C2.C2CODE
	JOIN CATEGORY C ON C2.CCODE = C.CCODE
	WHERE C.CCODE = #{category}	
	</select>
	
	<!-- 중분류 상품 목록 조회 -->
	<select id="MidCategory" resultType="kr.co.sist.user.domain.GoodsDomain"
		parameterType="kr.co.sist.user.vo.GoodsVO">
		
	SELECT P.IMG, P.PNAME, P.PRICE, P.LOC, P.INPUT_DATE
	FROM PRODUCT P
	JOIN CATEGORY3 C3 ON P.C3CODE = C3.C3CODE
	JOIN CATEGORY2 C2 ON C3.C2CODE = C2.C2CODE
	WHERE C2.C2CODE = #{category}
	</select>
	
	<!-- 소분류 상품 목록 조회 -->
	<select id="SmallCategory" resultType="kr.co.sist.user.domain.GoodsDomain"
		parameterType="kr.co.sist.user.vo.GoodsVO">
	SELECT P.IMG, P.PNAME, P.PRICE, P.LOC, P.INPUT_DATE
	FROM PRODUCT P
	JOIN CATEGORY3 C3 ON P.C3CODE = C3.C3CODE
	WHERE C3.C3CODE = #{category}
	</select>
	
</mapper>



